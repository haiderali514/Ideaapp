:root {
  /* Color Palette - Refined Dark Theme */
  --bg-primary: #212121;      /* Main content background */
  --bg-secondary: #0a0a0a;    /* Sidebar background */
  --bg-tertiary: #333333;     /* Input fields, hover states */
  --bg-quaternary: #424242;  /* Subtle borders, dividers */
  
  --text-primary: #f5f5f5;    /* Main text */
  --text-secondary: #a3a3a3;  /* Secondary text, placeholders */
  --text-tertiary: #737373;   /* Disabled text, tertiary info */
  
  --accent-primary: #a855f7;  /* Purple accent */
  --accent-primary-hover: #9333ea;
  --accent-secondary: #3b82f6; /* Blue accent for send button */
  
  --danger: #ef4444;
  --danger-hover: #dc2626;

  /* Typography */
  --font-family-sans: 'Inter', -apple-system, BlinkMacSystem-Font, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-size-xs: 0.75rem;  /* 12px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-base: 1rem;   /* 16px */
  --font-size-lg: 1.125rem; /* 18px */
  --font-size-xl: 1.25rem;  /* 20px */
  
  /* Spacing & Sizing */
  --spacing-1: 0.25rem; /* 4px */
  --spacing-2: 0.5rem;  /* 8px */
  --spacing-3: 0.75rem; /* 12px */
  --spacing-4: 1rem;    /* 16px */
  --spacing-6: 1.5rem;  /* 24px */
  --spacing-8: 2rem;    /* 32px */
  
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 16px;
  --border-radius-full: 9999px;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.2), 0 2px 4px -2px rgb(0 0 0 / 0.2);
}

/* --- Base Styles --- */
* { box-sizing: border-box; margin: 0; padding: 0; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
html, body, #root { height: 100%; overflow: hidden; }
body { font-family: var(--font-family-sans); background-color: var(--bg-primary); color: var(--text-primary); font-size: var(--font-size-base); line-height: 1.6; }
.app-container { display: flex; height: 100vh; width: 100%; }
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--bg-quaternary); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #52525b; }

/* --- Sidebar --- */
.sidebar { width: 280px; background-color: var(--bg-secondary); display: flex; flex-direction: column; transition: width 0.3s ease; flex-shrink: 0; z-index: 20; border-right: 1px solid var(--bg-quaternary); }
.sidebar.collapsed { width: 80px; }
.sidebar-content { flex-grow: 1; padding: var(--spacing-2); overflow-y: auto; }
.sidebar-header { display: flex; align-items: center; justify-content: space-between; padding: var(--spacing-3) var(--spacing-2); margin-bottom: var(--spacing-4); height: 60px; }
.sidebar.collapsed .sidebar-header { justify-content: center; }
.sidebar-header > span { font-size: var(--font-size-lg); font-weight: 600; flex-grow: 1; padding-left: var(--spacing-2); }
.sidebar-toggle { background: none; border: none; color: var(--text-secondary); cursor: pointer; height: 40px; min-width: 40px; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s, color 0.2s; border-radius: var(--border-radius-md); position: relative; }
.sidebar-toggle:hover { background-color: var(--bg-tertiary); color: var(--text-primary); }
.tooltip { visibility: hidden; width: max-content; background-color: #111; color: #fff; text-align: center; border-radius: 6px; padding: 5px 10px; position: absolute; z-index: 10; left: calc(100% + 10px); top: 50%; transform: translateY(-50%); opacity: 0; transition: opacity 0.2s; font-size: 0.8rem; pointer-events: none; white-space: nowrap; }
.sidebar.collapsed .sidebar-item:hover .tooltip, .sidebar.collapsed .chat-list-item:hover .tooltip, .sidebar.collapsed .project-folder-item:hover .tooltip, .sidebar.collapsed .sidebar-toggle:hover .tooltip { visibility: visible; opacity: 1; }
.sidebar-section { display: flex; flex-direction: column; gap: var(--spacing-1); margin-bottom: var(--spacing-4); }
.sidebar-item, .chat-list-item, .project-folder-item { width: 100%; display: flex; align-items: center; justify-content: space-between; gap: var(--spacing-3); background-color: transparent; color: var(--text-secondary); border: none; border-radius: var(--border-radius-md); padding: var(--spacing-2) var(--spacing-3); font-size: var(--font-size-sm); font-weight: 500; cursor: pointer; transition: background-color 0.2s, color 0.2s; text-align: left; white-space: nowrap; position: relative; }
.chat-item-content, .project-folder-name { display: flex; align-items: center; gap: var(--spacing-3); flex-grow: 1; overflow: hidden; text-overflow: ellipsis; }
.sidebar.collapsed .sidebar-item, .sidebar.collapsed .chat-list-item, .sidebar.collapsed .project-folder-item { justify-content: center; padding: var(--spacing-3); }
.sidebar-item:hover, .chat-list-item:hover, .project-folder-item:hover { background-color: var(--bg-tertiary); color: var(--text-primary); }
.chat-list-item.active, .project-folder-item.active { background-color: var(--bg-tertiary); color: var(--text-primary); }
.sidebar-section-header { font-size: var(--font-size-sm); font-weight: 500; color: var(--text-secondary); padding: var(--spacing-2) var(--spacing-3); white-space: nowrap; display: flex; align-items: center; justify-content: space-between; cursor: pointer; border-radius: var(--border-radius-md); transition: background-color 0.2s; }
.sidebar-section-header.collapsible:hover { background-color: var(--bg-tertiary); }
.project-list, .chat-list { list-style: none; overflow: hidden; transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out; }
.project-list.collapsed, .chat-list.collapsed { max-height: 0 !important; padding-top: 0; padding-bottom: 0; margin: 0; }
.sidebar-footer { margin-top: auto; padding: var(--spacing-4) var(--spacing-3); border-top: 1px solid var(--bg-quaternary); }
.user-profile { display: flex; align-items: center; gap: var(--spacing-3); }
.user-avatar { width: 32px; height: 32px; border-radius: 50%; background-color: var(--danger); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: var(--font-size-sm); color: white; flex-shrink: 0; }
.user-info { flex-grow: 1; min-width: 0; }
.user-info .name { font-weight: 500; font-size: var(--font-size-sm); text-overflow: ellipsis; overflow: hidden; }
.user-info .plan { font-size: var(--font-size-xs); color: var(--text-secondary); }
.upgrade-btn { background: none; border: 1px solid var(--bg-quaternary); color: var(--text-secondary); padding: var(--spacing-1) var(--spacing-3); border-radius: 6px; font-size: var(--font-size-xs); cursor: pointer; transition: all 0.2s; }
.upgrade-btn:hover { background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--bg-tertiary); }
.item-options-btn { background: none; border: none; color: var(--text-secondary); padding: 4px; border-radius: 4px; display: flex; align-items: center; justify-content: center; transition: background-color .2s; }
.item-options-btn:hover { background-color: var(--bg-quaternary); color: var(--text-primary); }

/* --- Main Content --- */
.main-content { flex: 1; display: flex; flex-direction: column; min-width: 0; background-color: var(--bg-primary); }
.placeholder { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; text-align: center; color: var(--text-secondary); padding: var(--spacing-4); }
.placeholder-content { flex-grow: 1; display: flex; align-items: center; justify-content: center; }
.placeholder h1 { font-size: 2.25rem; font-weight: 600; color: #737373; }

/* --- Chat View --- */
.chat-view { display: flex; flex-direction: column; height: 100%; position: relative; }
.project-header, .chat-view > .project-header { display: flex; justify-content: space-between; align-items: center; padding: var(--spacing-3) var(--spacing-6); border-bottom: 1px solid var(--bg-quaternary); flex-shrink: 0; height: 60px; }
.project-header-actions, .chat-options-container { position: relative; display: flex; align-items: center; gap: var(--spacing-2); }
.options-btn { background: none; border: none; color: var(--text-secondary); cursor: pointer; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: var(--border-radius-md); transition: color .2s, background-color .2s; }
.options-btn:hover { background-color: var(--bg-tertiary); color: var(--text-primary); }

.chat-log { flex: 1; overflow-y: auto; padding: var(--spacing-6) var(--spacing-4); }
.chat-message { display: flex; gap: var(--spacing-4); max-width: 800px; width: 100%; margin: 0 auto; }
.chat-message + .chat-message { margin-top: var(--spacing-6); }
.avatar { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 500; font-size: var(--font-size-sm); flex-shrink: 0; background-color: var(--bg-tertiary); }
.avatar.model { background-color: var(--accent-primary); color: white; padding: 4px; }
.avatar.user { background-color: var(--danger); color: white; }
.message-content { width: 100%; padding-top: 2px; }
.message-bubble { line-height: 1.7; }
.message-bubble > *:first-child { margin-top: 0; }
.message-bubble > *:last-child { margin-bottom: 0; }
.message-bubble p { margin-bottom: 1em; }
.message-bubble ul, .message-bubble ol { padding-left: 1.25rem; margin-bottom: 1em; }
.message-bubble pre { background-color: var(--bg-secondary); padding: var(--spacing-4); border-radius: var(--border-radius-md); overflow-x: auto; font-family: 'SF Mono', 'Fira Code', monospace; font-size: 0.9em; margin: 1em 0; border: 1px solid var(--bg-quaternary); }
.message-bubble code:not(pre > code) { background-color: var(--bg-secondary); padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.9em; }
.chat-image-attachment { max-width: 300px; border-radius: var(--border-radius-md); margin-top: var(--spacing-2); }
.empty-chat-placeholder { max-width: 800px; text-align: center; margin: auto; color: var(--text-secondary); }
.empty-chat-placeholder h2 { color: var(--text-primary); margin-bottom: var(--spacing-2); font-weight: 500; }
.loading-dots span { background-color: var(--text-secondary); }

/* Chat Form & File Previews */
.chat-form-container { padding: var(--spacing-4) 0; }
.chat-form-wrapper { max-width: 800px; margin: 0 auto; padding: 0 var(--spacing-4); }

.file-preview-cards-container { display: flex; flex-wrap: wrap; gap: var(--spacing-2); margin-bottom: var(--spacing-3); }
.file-preview-card { display: flex; align-items: center; gap: var(--spacing-3); background-color: var(--bg-secondary); border: 1px solid var(--bg-quaternary); border-radius: var(--border-radius-md); padding: var(--spacing-2); flex-grow: 1; min-width: 250px; }
.file-icon { color: var(--text-secondary); flex-shrink: 0; }
.file-info { flex-grow: 1; min-width: 0; font-size: var(--font-size-sm); }
.file-name { display: block; color: var(--text-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.file-size { display: block; color: var(--text-tertiary); font-size: var(--font-size-xs); }
.remove-file-btn { background: none; border: none; color: var(--text-secondary); cursor: pointer; padding: var(--spacing-1); border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s, color 0.2s; }
.remove-file-btn:hover { background-color: var(--bg-tertiary); color: var(--text-primary); }

.chat-form { position: relative; }
.chat-textarea { width: 100%; background: var(--bg-tertiary); border: 1px solid var(--bg-quaternary); color: var(--text-primary); font-size: var(--font-size-base); font-family: inherit; resize: none; line-height: 1.5; transition: border-color 0.2s; border-radius: var(--border-radius-lg); padding: var(--spacing-3) 7.5rem var(--spacing-3) 3.5rem; min-height: 52px; }
.chat-textarea:focus { border-color: var(--accent-primary); outline: none; }
.chat-textarea::placeholder { color: var(--text-secondary); }
.chat-form .attach-button, .chat-form .mic-button, .chat-form .send-button { position: absolute; bottom: 50%; transform: translateY(50%); background: none; border: none; color: var(--text-secondary); cursor: pointer; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: color 0.2s, background-color 0.2s; margin-bottom: -1px; }
.chat-form .attach-button:hover, .chat-form .mic-button:hover { color: var(--text-primary); background-color: #4f4f4f; }
.chat-form .attach-button { left: var(--spacing-2); }
.chat-form .mic-button { right: 56px; }
.chat-form .send-button { right: var(--spacing-2); background: var(--accent-secondary); color: white; border-radius: var(--border-radius-md); }
.chat-form .send-button:hover { filter: brightness(1.1); }
.chat-form .send-button:disabled { background: var(--bg-tertiary); cursor: not-allowed; }
.chat-form .send-button:disabled svg { color: var(--text-tertiary); }

/* --- Project View --- */
.project-landing-view { padding: 0 var(--spacing-8) var(--spacing-8); overflow-y: hidden; height: 100%; display: flex; flex-direction: column; max-width: 1200px; margin: 0 auto; width: 100%; }
.project-landing-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-4); border-bottom: none; padding: var(--spacing-8) 0 0 0; }
.project-landing-title { display: flex; align-items: center; gap: var(--spacing-4); font-size: 1.75rem; font-weight: 600; }
.add-files-btn { background-color: var(--bg-tertiary); border: 1px solid var(--bg-quaternary); color: var(--text-primary); padding: var(--spacing-2) var(--spacing-4); border-radius: var(--border-radius-md); font-weight: 500; cursor: pointer; transition: background-color 0.2s; }
.add-files-btn:hover { background-color: var(--bg-quaternary); }
.project-chat-list-main { list-style: none; display: flex; flex-direction: column; gap: var(--spacing-3); margin-top: 0; }
.project-chat-list-item-main { background-color: transparent; border: 1px solid var(--bg-quaternary); padding: var(--spacing-4); border-radius: var(--border-radius-md); cursor: pointer; transition: background-color 0.2s, border-color 0.2s; display: flex; justify-content: space-between; align-items: center; }
.project-chat-list-item-main:hover { background-color: var(--bg-tertiary); border-color: var(--bg-tertiary); }
.project-chat-list-item-main .content { max-width: 80%; }
.project-chat-list-item-main h3 { font-size: var(--font-size-base); font-weight: 500; margin-bottom: var(--spacing-1); color: var(--text-primary); }
.project-chat-list-item-main p { color: var(--text-secondary); font-size: var(--font-size-sm); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.project-chat-list-item-main .date { color: var(--text-tertiary); font-size: var(--font-size-xs); }

/* Project View Tabs */
.project-tabs { display: flex; gap: var(--spacing-2); border-bottom: 1px solid var(--bg-quaternary); margin-top: var(--spacing-6); margin-bottom: var(--spacing-6); }
.tab-btn { background: none; border: none; color: var(--text-secondary); padding: var(--spacing-3) var(--spacing-4); font-size: var(--font-size-sm); font-weight: 500; cursor: pointer; transition: color 0.2s, border-bottom-color 0.2s; border-bottom: 2px solid transparent; position: relative; top: 1px; }
.tab-btn:hover { color: var(--text-primary); }
.tab-btn.active { color: var(--text-primary); border-bottom-color: var(--accent-primary); }
.tab-content { flex-grow: 1; min-height: 0; overflow-y: auto; padding-right: var(--spacing-2); }
.tab-content .project-workflow-section { background-color: transparent; border: none; padding: 0; max-width: 900px; margin: 0 auto; }
.placeholder-tab h2 { font-size: var(--font-size-xl); font-weight: 600; margin-bottom: var(--spacing-1); }
.placeholder-tab .workflow-description { color: var(--text-secondary); margin-bottom: var(--spacing-6); font-size: var(--font-size-sm); }
.placeholder-guidance p { font-weight: 500; margin-bottom: var(--spacing-3); }
.placeholder-guidance ul { list-style-type: none; padding-left: 0; display: flex; flex-direction: column; gap: var(--spacing-2); color: var(--text-secondary); }
.placeholder-guidance li { background-color: var(--bg-secondary); border: 1px solid var(--bg-quaternary); padding: var(--spacing-3); border-radius: var(--border-radius-md); }

/* Project Workflow Section - Plan Tab Refinement */
.project-workflow-section .workflow-heading { text-align: center; margin-bottom: var(--spacing-8); }
.project-workflow-section .workflow-heading h2 { font-size: 1.75rem; font-weight: 600; margin-bottom: var(--spacing-2); }
.project-workflow-section .workflow-heading p { max-width: 600px; margin-left: auto; margin-right: auto; color: var(--text-secondary); }
.project-workflow-section .form-group { margin-bottom: var(--spacing-4); }
.project-workflow-section label { display: block; font-size: var(--font-size-sm); font-weight: 500; margin-bottom: var(--spacing-2); color: var(--text-primary); }
.project-workflow-section textarea { background: var(--bg-secondary); border: 1px solid var(--bg-quaternary); padding: var(--spacing-3); min-height: 80px; transition: all 0.2s ease; width: 100%; border-radius: var(--border-radius-md); color: var(--text-primary); font-family: inherit; font-size: var(--font-size-base); resize: vertical; }
.project-workflow-section textarea:focus { border-color: var(--accent-primary); outline: none; box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2); }
.workflow-actions { display: flex; justify-content: center; gap: var(--spacing-3); margin-top: var(--spacing-4); margin-bottom: var(--spacing-8); }
.workflow-actions button { border: none; padding: var(--spacing-3) var(--spacing-6); border-radius: var(--border-radius-md); font-weight: 600; font-size: var(--font-size-sm); cursor: pointer; transition: all .2s; display: flex; align-items: center; gap: var(--spacing-2); }
.workflow-actions button:disabled { opacity: 0.6; cursor: not-allowed; }
.workflow-actions .generate-btn { background-color: var(--accent-primary); color: white; }
.workflow-actions .generate-btn:hover:not(:disabled) { background-color: var(--accent-primary-hover); transform: translateY(-1px); box-shadow: var(--shadow-md); }
.workflow-actions .save-btn { background-color: var(--bg-tertiary); color: var(--text-primary); }
.workflow-actions .save-btn:hover:not(:disabled) { background-color: var(--bg-quaternary); }
.feature-list { margin-top: var(--spacing-6); }
.feature-list h3 { font-size: var(--font-size-lg); font-weight: 600; margin-bottom: var(--spacing-4); text-align: center; color: var(--text-secondary); }
.feature-list ul { list-style: none; padding-left: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--spacing-4); }
.feature-list li { background-color: var(--bg-secondary); padding: var(--spacing-4); border-radius: var(--border-radius-md); font-size: var(--font-size-sm); display: flex; align-items: flex-start; gap: var(--spacing-3); border: 1px solid var(--bg-quaternary); transition: all 0.2s ease; }
.feature-list li:hover { transform: translateY(-2px); border-color: var(--accent-primary); }
.feature-icon { flex-shrink: 0; color: var(--accent-primary); margin-top: 2px; }

/* Project View Chats Tab Layout */
.project-chats-tab-content { display: flex; flex-direction: column; height: 100%; }
.project-chats-tab-content > .project-chat-list-main { flex-grow: 1; overflow-y: auto; padding-right: var(--spacing-2); }
.project-chats-tab-content > .chat-form-container { flex-shrink: 0; }
.project-chat-list-main-placeholder { flex-grow: 1; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); }

/* --- Component Builder (Design Tab) --- */
.design-tab-content { display: flex; flex-direction: column; gap: var(--spacing-8); }
.component-builder-container { border: 1px solid var(--bg-quaternary); border-radius: var(--border-radius-lg); background-color: var(--bg-secondary); padding: var(--spacing-6); }
.builder-prompt-section { margin-bottom: var(--spacing-6); }
.builder-prompt-section textarea { width: 100%; background: var(--bg-tertiary); border-radius: var(--border-radius-md); padding: var(--spacing-3); font-size: var(--font-size-base); color: var(--text-primary); resize: vertical; min-height: 80px; border: 1px solid var(--bg-quaternary); }
.builder-prompt-section .workflow-actions { margin-top: var(--spacing-3); margin-bottom: 0; }
.builder-main-content { display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-6); min-height: 400px; }
.builder-preview-panel, .builder-code-panel { border: 1px solid var(--bg-quaternary); border-radius: var(--border-radius-md); overflow: hidden; display: flex; flex-direction: column; }
.panel-header { background-color: var(--bg-tertiary); padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm); font-weight: 500; color: var(--text-secondary); border-bottom: 1px solid var(--bg-quaternary); }
.builder-preview-iframe { flex-grow: 1; border: none; background-color: #fff; width: 100%; height: 100%; }
.builder-code-panel-content { flex-grow: 1; overflow-y: auto; }
.code-block { padding: var(--spacing-4); font-family: 'SF Mono', 'Fira Code', monospace; font-size: 0.8rem; line-height: 1.6; }
.code-block h4 { font-size: var(--font-size-xs); color: var(--text-tertiary); text-transform: uppercase; margin-bottom: var(--spacing-2); }
.code-block pre { white-space: pre-wrap; word-wrap: break-word; background: none !important; padding: 0 !important; margin: 0 !important; border: none !important; }

/* Component Library */
.component-library h3 { font-size: var(--font-size-lg); font-weight: 600; margin-bottom: var(--spacing-4); color: var(--text-secondary); }
.empty-library-message { color: var(--text-secondary); text-align: center; padding: var(--spacing-8) 0; }
.saved-components-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: var(--spacing-4); }
.saved-component-card { background-color: var(--bg-secondary); border: 1px solid var(--bg-quaternary); border-radius: var(--border-radius-md); overflow: hidden; transition: all 0.2s ease; cursor: pointer; }
.saved-component-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); border-color: var(--accent-primary); }
.saved-component-card .card-preview { height: 150px; background-color: #fff; }
.saved-component-card .card-preview iframe { width: 100%; height: 100%; border: none; pointer-events: none; /* Make iframe un-interactive in card view */ }
.saved-component-card .card-info { padding: var(--spacing-3); font-size: var(--font-size-sm); color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }


/* --- Modals --- */
.modal-overlay { position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.7); display: grid; place-items: center; z-index: 1000; backdrop-filter: blur(4px); animation: fadeIn 0.2s ease-out; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.modal-content { background-color: #262626; color: var(--text-primary); padding: var(--spacing-8); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); width: 90%; max-width: 500px; border: 1px solid var(--bg-quaternary); animation: slideIn 0.2s ease-out; }
@keyframes slideIn { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.modal-content h2 { margin-bottom: var(--spacing-6); font-size: var(--font-size-xl); font-weight: 600; }
.modal-content input, .modal-content textarea, .modal-content select { background-color: var(--bg-tertiary); border: 1px solid var(--bg-quaternary); color: var(--text-primary); padding: var(--spacing-3); border-radius: var(--border-radius-md); font-size: var(--font-size-base); outline: none; transition: border-color 0.2s; width: 100%; }
.modal-actions { display: flex; justify-content: flex-end; gap: var(--spacing-3); margin-top: var(--spacing-6); }
.modal-actions button { border: none; padding: var(--spacing-2) var(--spacing-4); border-radius: var(--border-radius-md); font-weight: 500; font-size: var(--font-size-sm); cursor: pointer; transition: all 0.2s; }
.modal-actions button[type="button"] { background-color: var(--bg-quaternary); color: var(--text-primary); }
.modal-actions button[type="button"]:hover { filter: brightness(1.2); }
.modal-actions button[type="submit"] { background-color: var(--accent-primary); color: white; }
.modal-actions button[type="submit"]:hover { background-color: var(--accent-primary-hover); }
.delete-confirm-btn { background-color: var(--danger) !important; color: white !important; }
.delete-confirm-btn:hover { background-color: var(--danger-hover) !important; }
.modal-content p { color: var(--text-secondary); }

/* Options Dropdown */
.options-dropdown { position: absolute; top: calc(100% + 5px); right: 0; background-color: #3f3f46; border-radius: var(--border-radius-md); border: 1px solid var(--bg-quaternary); box-shadow: var(--shadow-md); z-index: 10; padding: var(--spacing-2); min-width: 220px; animation: fadeIn 0.1s ease-out; }
.dropdown-item { display: flex; align-items: center; gap: var(--spacing-2); width: 100%; background: none; border: none; color: var(--text-secondary); padding: var(--spacing-2) var(--spacing-3); border-radius: 6px; text-align: left; cursor: pointer; font-size: var(--font-size-sm); }
.dropdown-item:hover { background-color: var(--bg-quaternary); color: var(--text-primary); }
.dropdown-item.delete { color: var(--danger) !important; }
.project-folder-actions { visibility: hidden; opacity: 0; transition: opacity 0.2s; position: relative; }
.project-folder-item:hover .project-folder-actions, .chat-list-item:hover .project-folder-actions { visibility: visible; opacity: 1; }

/* Responsiveness */
@media (max-width: 1024px) {
  .builder-main-content { grid-template-columns: 1fr; }
}

@media (max-width: 768px) {
  .sidebar { width: 100%; position: absolute; height: 100%; transform: translateX(-100%); transition: transform 0.3s ease; }
  .sidebar:not(.collapsed) { transform: translateX(0); }
  .sidebar.collapsed { width: 0; transform: translateX(-100%); border-right: none; padding: 0;}
  .sidebar.collapsed .sidebar-content { display: none; }
  
  .chat-log, .project-landing-view { padding: var(--spacing-4); }
  .project-header, .chat-view > .project-header { padding: var(--spacing-3) var(--spacing-4); }
  .chat-message { gap: var(--spacing-3); }
  .chat-form-wrapper { padding: 0 var(--spacing-2); }
  .project-landing-title { font-size: var(--font-size-xl); }
}